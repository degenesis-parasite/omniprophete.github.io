<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>L'Omniprophète — Découvrez votre Concept</title>
<link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700;900&family=Crimson+Pro:ital,wght@0,300;0,400;0,600;1,300;1,400&display=swap" rel="stylesheet">
<style>
  :root {
    --gold: #c9a84c;
    --gold-light: #e8c97a;
    --gold-dark: #8a6d2f;
    --bg: #0a0806;
    --bg2: #110e09;
    --bg3: #1a1510;
    --text: #e8dcc8;
    --text-dim: #9a8a70;
    --accent: #7a3a1a;
    --red: #c04a2a;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    background: var(--bg);
    color: var(--text);
    font-family: 'Crimson Pro', Georgia, serif;
    min-height: 100vh;
    overflow-x: hidden;
  }

  /* Grain overlay */
  body::before {
    content: '';
    position: fixed;
    inset: 0;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.04'/%3E%3C/svg%3E");
    pointer-events: none;
    z-index: 1000;
    opacity: 0.4;
  }

  /* Radial background glow */
  body::after {
    content: '';
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 80vw;
    height: 80vh;
    background: radial-gradient(ellipse, rgba(201,168,76,0.04) 0%, transparent 70%);
    pointer-events: none;
    z-index: 0;
  }

  .screen {
    display: none;
    min-height: 100vh;
    position: relative;
    z-index: 1;
  }
  .screen.active { display: flex; flex-direction: column; align-items: center; justify-content: center; }

  /* ==================== INTRO ==================== */
  #screen-intro {
    padding: 2rem;
    text-align: center;
  }

  .eye-container {
    position: relative;
    width: 120px;
    height: 120px;
    margin: 0 auto 2.5rem;
  }

  .eye-svg {
    width: 120px;
    height: 120px;
    animation: pulse-eye 4s ease-in-out infinite;
  }

  @keyframes pulse-eye {
    0%, 100% { filter: drop-shadow(0 0 8px rgba(201,168,76,0.4)); }
    50% { filter: drop-shadow(0 0 24px rgba(201,168,76,0.9)); }
  }

  .title-main {
    font-family: 'Cinzel Decorative', serif;
    font-size: clamp(1.8rem, 5vw, 3.2rem);
    font-weight: 900;
    color: var(--gold);
    letter-spacing: 0.05em;
    text-shadow: 0 0 40px rgba(201,168,76,0.3);
    margin-bottom: 0.5rem;
    animation: fadeIn 1s ease forwards;
  }

  .title-sub {
    font-family: 'Cinzel Decorative', serif;
    font-size: clamp(0.8rem, 2vw, 1.1rem);
    font-weight: 400;
    color: var(--gold-dark);
    letter-spacing: 0.3em;
    text-transform: uppercase;
    margin-bottom: 3rem;
    animation: fadeIn 1.5s ease forwards;
  }

  .intro-text {
    max-width: 560px;
    font-size: 1.2rem;
    line-height: 1.9;
    color: var(--text-dim);
    font-style: italic;
    margin-bottom: 3rem;
    animation: fadeIn 2s ease forwards;
  }

  .intro-text strong {
    color: var(--text);
    font-style: normal;
  }

  .divider {
    width: 200px;
    height: 1px;
    background: linear-gradient(90deg, transparent, var(--gold), transparent);
    margin: 2rem auto;
  }

  .btn-start {
    font-family: 'Cinzel Decorative', serif;
    font-size: 1rem;
    font-weight: 700;
    color: var(--bg);
    background: linear-gradient(135deg, var(--gold-light), var(--gold), var(--gold-dark));
    border: none;
    padding: 1rem 3rem;
    cursor: pointer;
    letter-spacing: 0.1em;
    position: relative;
    clip-path: polygon(8px 0%, 100% 0%, calc(100% - 8px) 100%, 0% 100%);
    transition: all 0.3s ease;
    animation: fadeIn 2.5s ease forwards;
  }

  .btn-start:hover {
    background: linear-gradient(135deg, #fff0a0, var(--gold-light), var(--gold));
    transform: translateY(-2px);
    box-shadow: 0 8px 30px rgba(201,168,76,0.4);
  }

  /* ==================== QUIZ ==================== */
  #screen-quiz {
    padding: 2rem;
    flex-direction: column;
    gap: 0;
  }

  .quiz-header {
    width: 100%;
    max-width: 680px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 2rem;
    padding-bottom: 1rem;
    border-bottom: 1px solid rgba(201,168,76,0.15);
  }

  .quiz-logo {
    font-family: 'Cinzel Decorative', serif;
    font-size: 0.75rem;
    color: var(--gold-dark);
    letter-spacing: 0.2em;
  }

  .progress-info {
    font-size: 0.95rem;
    color: var(--text-dim);
  }

  .progress-bar-track {
    width: 100%;
    max-width: 680px;
    height: 2px;
    background: rgba(201,168,76,0.1);
    margin-bottom: 3rem;
    position: relative;
  }

  .progress-bar-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--gold-dark), var(--gold));
    transition: width 0.5s ease;
    box-shadow: 0 0 8px rgba(201,168,76,0.5);
  }

  .question-card {
    max-width: 680px;
    width: 100%;
    animation: slideUp 0.4s ease forwards;
  }

  @keyframes slideUp {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .proposition-label {
    font-size: 0.85rem;
    letter-spacing: 0.25em;
    text-transform: uppercase;
    color: var(--gold-dark);
    margin-bottom: 1.5rem;
  }

  .question-text {
    font-size: clamp(1.2rem, 3vw, 1.6rem);
    line-height: 1.7;
    color: var(--text);
    font-style: italic;
    margin-bottom: 3rem;
    min-height: 80px;
  }

  .scale-label {
    font-size: 0.9rem;
    color: var(--text-dim);
    margin-bottom: 1.5rem;
    font-style: italic;
  }

  .answers-grid {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: 0.75rem;
    margin-bottom: 1rem;
  }

  .answer-btn {
    background: transparent;
    border: 1px solid rgba(201,168,76,0.2);
    color: var(--text-dim);
    padding: 1.2rem 0.5rem 0.8rem;
    cursor: pointer;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.6rem;
    transition: all 0.2s ease;
    font-family: 'Crimson Pro', serif;
    position: relative;
    clip-path: polygon(6px 0%, 100% 0%, calc(100% - 6px) 100%, 0% 100%);
  }

  .answer-btn:hover {
    border-color: var(--gold);
    color: var(--gold);
    background: rgba(201,168,76,0.05);
    transform: translateY(-2px);
  }

  .answer-btn .num {
    font-family: 'Cinzel Decorative', serif;
    font-size: 1.4rem;
    font-weight: 700;
    line-height: 1;
  }

  .answer-btn .label {
    font-size: 0.7rem;
    text-align: center;
    line-height: 1.3;
    letter-spacing: 0.02em;
  }

  .answer-btn.selected {
    background: rgba(201,168,76,0.12);
    border-color: var(--gold);
    color: var(--gold);
  }

  .answer-btn[data-val="1"]:hover, .answer-btn[data-val="1"].selected { border-color: #666; color: #999; background: rgba(100,100,100,0.05); }
  .answer-btn[data-val="2"]:hover, .answer-btn[data-val="2"].selected { border-color: #887a60; color: #aa9c7a; background: rgba(136,122,96,0.05); }
  .answer-btn[data-val="3"]:hover, .answer-btn[data-val="3"].selected { border-color: var(--gold-dark); color: var(--gold-dark); background: rgba(138,109,47,0.08); }
  .answer-btn[data-val="4"]:hover, .answer-btn[data-val="4"].selected { border-color: var(--gold); color: var(--gold); background: rgba(201,168,76,0.1); }
  .answer-btn[data-val="5"]:hover, .answer-btn[data-val="5"].selected { border-color: var(--gold-light); color: var(--gold-light); background: rgba(232,201,122,0.12); box-shadow: 0 0 16px rgba(232,201,122,0.15); }

  /* ==================== RESULTS ==================== */
  #screen-results {
    padding: 2rem;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
    padding-top: 4rem;
  }

  .result-eye {
    width: 80px;
    height: 80px;
    margin-bottom: 1.5rem;
    animation: pulse-eye 3s ease-in-out infinite;
  }

  .result-oracle {
    font-family: 'Cinzel Decorative', serif;
    font-size: clamp(0.75rem, 2vw, 0.95rem);
    color: var(--gold-dark);
    letter-spacing: 0.3em;
    text-transform: uppercase;
    margin-bottom: 1rem;
  }

  .result-verdict {
    font-family: 'Cinzel Decorative', serif;
    font-size: clamp(1.4rem, 4vw, 2.4rem);
    color: var(--gold);
    text-align: center;
    margin-bottom: 0.5rem;
    text-shadow: 0 0 30px rgba(201,168,76,0.4);
    max-width: 700px;
    line-height: 1.4;
  }

  .result-name {
    font-family: 'Cinzel Decorative', serif;
    font-size: clamp(1.8rem, 5vw, 3rem);
    color: var(--gold-light);
    text-align: center;
    margin-bottom: 3rem;
    text-shadow: 0 0 50px rgba(232,201,122,0.5);
  }

  .divider-ornate {
    display: flex;
    align-items: center;
    gap: 1rem;
    width: 100%;
    max-width: 600px;
    margin: 2rem auto;
  }

  .divider-ornate::before,
  .divider-ornate::after {
    content: '';
    flex: 1;
    height: 1px;
    background: linear-gradient(90deg, transparent, var(--gold-dark));
  }
  .divider-ornate::after {
    background: linear-gradient(90deg, var(--gold-dark), transparent);
  }

  .divider-ornate span {
    color: var(--gold);
    font-size: 1.2rem;
  }

  .scores-title {
    font-family: 'Cinzel Decorative', serif;
    font-size: 0.8rem;
    letter-spacing: 0.3em;
    color: var(--gold-dark);
    text-transform: uppercase;
    margin-bottom: 2rem;
    text-align: center;
  }

  .scores-grid {
    width: 100%;
    max-width: 700px;
    display: flex;
    flex-direction: column;
    gap: 0.6rem;
    margin-bottom: 3rem;
  }

  .score-row {
    display: grid;
    grid-template-columns: 1fr auto auto;
    align-items: center;
    gap: 1rem;
    padding: 0.5rem 0;
    border-bottom: 1px solid rgba(201,168,76,0.07);
    opacity: 0;
    animation: fadeInRow 0.3s ease forwards;
  }

  @keyframes fadeInRow {
    from { opacity: 0; transform: translateX(-10px); }
    to { opacity: 1; transform: translateX(0); }
  }

  .score-name {
    font-size: 1rem;
    color: var(--text-dim);
  }

  .score-name.top {
    color: var(--gold);
    font-weight: 600;
  }

  .score-bar-wrap {
    width: 120px;
    height: 3px;
    background: rgba(201,168,76,0.1);
    position: relative;
  }

  .score-bar-inner {
    height: 100%;
    background: linear-gradient(90deg, var(--gold-dark), var(--gold));
    transition: width 1s ease;
  }

  .score-bar-inner.top {
    background: linear-gradient(90deg, var(--gold), var(--gold-light));
    box-shadow: 0 0 6px rgba(201,168,76,0.5);
  }

  .score-num {
    font-family: 'Cinzel Decorative', serif;
    font-size: 0.85rem;
    color: var(--text-dim);
    min-width: 45px;
    text-align: right;
  }

  .score-num.top { color: var(--gold); }

  .btn-restart {
    font-family: 'Cinzel Decorative', serif;
    font-size: 0.85rem;
    color: var(--gold-dark);
    background: transparent;
    border: 1px solid rgba(201,168,76,0.3);
    padding: 0.8rem 2rem;
    cursor: pointer;
    letter-spacing: 0.1em;
    transition: all 0.3s ease;
    clip-path: polygon(6px 0%, 100% 0%, calc(100% - 6px) 100%, 0% 100%);
    margin-bottom: 4rem;
  }

  .btn-restart:hover {
    color: var(--gold);
    border-color: var(--gold);
    background: rgba(201,168,76,0.05);
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }

  @media (max-width: 480px) {
    .answers-grid { grid-template-columns: repeat(5, 1fr); gap: 0.4rem; }
    .answer-btn { padding: 1rem 0.2rem 0.6rem; }
    .answer-btn .label { font-size: 0.6rem; }
    .score-bar-wrap { width: 70px; }
  }
</style>
</head>
<body>

<!-- ==================== INTRO ==================== -->
<div id="screen-intro" class="screen active">
  <div class="eye-container">
    <svg class="eye-svg" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
      <ellipse cx="60" cy="60" rx="55" ry="35" stroke="#c9a84c" stroke-width="1.5" opacity="0.3"/>
      <path d="M 5 60 Q 30 20 60 20 Q 90 20 115 60 Q 90 100 60 100 Q 30 100 5 60 Z" stroke="#c9a84c" stroke-width="1.5" fill="none" opacity="0.6"/>
      <circle cx="60" cy="60" r="22" stroke="#c9a84c" stroke-width="1.5" fill="rgba(201,168,76,0.05)"/>
      <circle cx="60" cy="60" r="12" fill="rgba(201,168,76,0.15)" stroke="#c9a84c" stroke-width="1"/>
      <circle cx="60" cy="60" r="5" fill="#c9a84c"/>
      <circle cx="54" cy="55" r="2" fill="rgba(255,255,255,0.4)"/>
      <!-- Rays -->
      <line x1="60" y1="2" x2="60" y2="14" stroke="#c9a84c" stroke-width="1" opacity="0.4"/>
      <line x1="60" y1="106" x2="60" y2="118" stroke="#c9a84c" stroke-width="1" opacity="0.4"/>
      <line x1="2" y1="60" x2="14" y2="60" stroke="#c9a84c" stroke-width="1" opacity="0.4"/>
      <line x1="106" y1="60" x2="118" y2="60" stroke="#c9a84c" stroke-width="1" opacity="0.4"/>
    </svg>
  </div>

  <div class="title-main">L'Omniprophète</div>
  <div class="title-sub">Révélation de votre Concept</div>

  <div class="divider"></div>

  <p class="intro-text">
    L'Omniprophète voit ce que les autres ne voient pas.<br>
    Il perçoit la vérité derrière le masque.<br><br>
    <strong>110 propositions</strong> vous seront présentées dans un ordre aléatoire.<br>
    Répondez <strong>instinctivement</strong>, sans chercher la bonne réponse.<br>
    Il n'y en a pas.<br><br>
    À la fin, votre <strong>Concept</strong> vous sera révélé.
  </p>

  <div class="divider"></div>

  <button class="btn-start" onclick="startQuiz()">Commencer l'épreuve</button>
</div>

<!-- ==================== QUIZ ==================== -->
<div id="screen-quiz" class="screen">
  <div class="quiz-header">
    <div class="quiz-logo">L'Omniprophète</div>
    <div class="progress-info"><span id="q-current">1</span> / 110</div>
  </div>

  <div class="progress-bar-track">
    <div class="progress-bar-fill" id="progress-fill" style="width:0%"></div>
  </div>

  <div class="question-card" id="question-card">
    <div class="proposition-label">Cette proposition…</div>
    <div class="question-text" id="question-text"></div>

    <div class="scale-label">…correspond à moi :</div>

    <div class="answers-grid">
      <button class="answer-btn" data-val="1" onclick="selectAnswer(1)">
        <span class="num">1</span>
        <span class="label">Pas du tout</span>
      </button>
      <button class="answer-btn" data-val="2" onclick="selectAnswer(2)">
        <span class="num">2</span>
        <span class="label">Un peu</span>
      </button>
      <button class="answer-btn" data-val="3" onclick="selectAnswer(3)">
        <span class="num">3</span>
        <span class="label">Moyennement</span>
      </button>
      <button class="answer-btn" data-val="4" onclick="selectAnswer(4)">
        <span class="num">4</span>
        <span class="label">Assez</span>
      </button>
      <button class="answer-btn" data-val="5" onclick="selectAnswer(5)">
        <span class="num">5</span>
        <span class="label">Tout à fait</span>
      </button>
    </div>
  </div>
</div>

<!-- ==================== RESULTS ==================== -->
<div id="screen-results" class="screen">
  <svg class="result-eye" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M 5 60 Q 30 20 60 20 Q 90 20 115 60 Q 90 100 60 100 Q 30 100 5 60 Z" stroke="#c9a84c" stroke-width="1.5" fill="none" opacity="0.6"/>
    <circle cx="60" cy="60" r="22" stroke="#c9a84c" stroke-width="1.5" fill="rgba(201,168,76,0.05)"/>
    <circle cx="60" cy="60" r="12" fill="rgba(201,168,76,0.15)" stroke="#c9a84c" stroke-width="1"/>
    <circle cx="60" cy="60" r="5" fill="#c9a84c"/>
    <circle cx="54" cy="55" r="2" fill="rgba(255,255,255,0.4)"/>
  </svg>

  <div class="result-oracle" id="result-oracle-text">L'Omniprophète a reconnu votre Concept !</div>
  <div class="result-verdict" id="result-verdict">Vous êtes</div>
  <div class="result-name" id="result-name"></div>

  <div class="divider-ornate"><span>✦</span></div>

  <div class="scores-title">Tableau des Concepts</div>
  <div class="scores-grid" id="scores-grid"></div>

  <button class="btn-restart" onclick="restartQuiz()">↺ Recommencer l'épreuve</button>
</div>

<script>
// ==================== DATA ====================
const archetypes = [
  { name: "L'Aventurier",      questions: [0,1,2,3,4] },
  { name: "Le Créateur",       questions: [5,6,7,8,9] },
  { name: "Le Mentor",         questions: [10,11,12,13,14] },
  { name: "Le Martyr",         questions: [15,16,17,18,19] },
  { name: "Le Chef",           questions: [20,21,22,23,24] },
  { name: "Le Chercheur",      questions: [25,26,27,28,29] },
  { name: "Le Soigneur",       questions: [30,31,32,33,34] },
  { name: "Le Traditionaliste",questions: [35,36,37,38,39] },
  { name: "Le Médiateur",      questions: [40,41,42,43,44] },
  { name: "L'Ermite",          questions: [45,46,47,48,49] },
  { name: "L'Hérétique",       questions: [50,51,52,53,54] },
  { name: "Le Conquérant",     questions: [55,56,57,58,59] },
  { name: "L'Abomination",     questions: [60,61,62,63,64] },
  { name: "Le Destructeur",    questions: [65,66,67,68,69] },
  { name: "L'Élu",             questions: [70,71,72,73,74] },
  { name: "Le Profanateur",    questions: [75,76,77,78,79] },
  { name: "Le Protecteur",     questions: [80,81,82,83,84] },
  { name: "Le Visionnaire",    questions: [85,86,87,88,89] },
  { name: "Le Fanatique",      questions: [90,91,92,93,94] },
  { name: "Le Disciple",       questions: [95,96,97,98,99] },
  { name: "Le Vertueux",       questions: [100,101,102,103,104] },
  { name: "Le Voyageur",       questions: [105,106,107,108,109] },
];

const allQuestions = [
  // Aventurier (0-4)
  "Je me fous dans des situations de ouf qui dépassent mes limites, et j'adore ça.",
  "L'ennui et la routine me font plus peur que la mort ou les démons.",
  "Je tiens pas en place, je suis une pile électrique !",
  "Même quand j'ai peur, j'y vais !",
  "Tester mes extrêmes physiques et mentaux jusqu'à exploser, c'est mon kif ultime.",
  // Créateur (5-9)
  "Un homme meurt deux fois. Une fois quand il meurt, une deuxième fois quand il est oublié. Je ne me ferai pas oublier.",
  "Je bosse avec une précision maniaque sur des projets de dingue pour prouver ma valeur.",
  "Inventer des trucs que personne n'a jamais inventé, c'est mon kif.",
  "Mon objectif dans la vie est de contribuer à bâtir quelque chose dont je puisse être fier.",
  "Si je ne fais rien de ma journée, j'angoisse.",
  // Mentor (10-14)
  "J'adore corriger les gens sur ce qu'ils disent, ahem actually.",
  "La stupidité, l'indifférence et l'obstination des cons me rendent dingue.",
  "Voir la future génération reprendre le flambeau et perpétuer le cycle, ça me fascine.",
  "J'éveille la curiosité chez les gens, c'est ce qui nous sauve de redevenir des bêtes.",
  "Je détiens la seule arme contre le déclin total de l'humanité : le savoir et sa transmission.",
  // Martyr (15-19)
  "Des héros ? Les vrais héros ne portent pas de cape ; ils saignent pour ce qui est juste.",
  "On ne peut pas me faire changer d'avis, mes valeurs sont inchangeables.",
  "Quand mon ami pète et que quelqu'un demande \"Qui a pété ?\" je dis \"Moi !\"",
  "Un acte solitaire est plus important que de belles paroles.",
  "Ma mort doit servir une cause noble et, si possible, à grande échelle.",
  // Chef (20-24)
  "La plupart des gens sont cons ; je suis là pour les dresser.",
  "Quand enfin quelqu'un m'écoute, c'est jouissif.",
  "Je n'aime pas les gens qui me remettent h24 en question.",
  "Dans un groupe, je répartis les tâches.",
  "Une société sans hiérarchie ? On a déjà essayé : l'ère de la Bête.",
  // Chercheur (25-29)
  "Les mystères de la vie, de la mort, de Dieu, de l'Univers etc… m'ont toujours intrigué.",
  "Je veux poser des questions que personne n'ose poser par peur du blâme social.",
  "Je fouille le stream dès qu'une question me vient à l'esprit ; je dois trouver la réponse.",
  "D'où venons-nous ? Où allons-nous ? J'adore la philosophie qui permet de répondre au sens de la vie.",
  "Le temps est un vilain amant. Je dois trouver mes réponses avant de mourir.",
  // Soigneur (30-34)
  "J'aime m'occuper des bobos des uns et des autres.",
  "Le monde est en train de s'écrouler et je restaurerai l'ordre.",
  "Tant qu'il y a de la vie, il y a de l'espoir, je ne renoncerai jamais.",
  "On me compare souvent à MacGayver.",
  "Tout le monde a le droit à une deuxième chance.",
  // Traditionaliste (35-39)
  "Je suis né libre comme les autres, mais partout nous sommes justement limités dans notre liberté pour nous protéger de la loi du plus fort.",
  "Les vieilles lois comme les Constitutions préservent le futur et j'empêcherai qu'elles soient adaptées.",
  "La famille, les coutumes et l'héritage culturel jouent un rôle essentiel dans la cohésion d'une société et j'y resterai fidèle.",
  "Le passé peut offrir des enseignements utiles et je me renseigne donc sur ces derniers quand les interrogations du présent sont difficiles à supporter.",
  "Chacun unit sa personne et sa force aux autres, et ensemble nous formons un seul tout où chacun est une part essentielle.",
  // Médiateur (40-44)
  "La paix n'est pas l'absence de conflit, mais la capacité de le gérer par des moyens pacifiques, ainsi je n'en viens jamais aux mains.",
  "Les conflits proviennent des sentiments des gens et je suis là pour apporter cette raison et résoudre le conflit.",
  "Dieu a détruit la tour de Babel pour qu'on ne se comprenne plus, heureusement que je suis là.",
  "Les gens se haïssent souvent avant même d'avoir échangé un seul mot avec des préjugés que j'aime déconstruire devant eux.",
  "Ceux qui mélangent des \"pics\" pendant un débat ont déjà perdu, je n'insulte et ne crie jamais sur mes adversaires.",
  // Ermite (45-49)
  "Je regagne mon énergie sociale en restant seul plutôt qu'en passant du temps avec les autres.",
  "Les bruits des enfants qui crient à la récréation, ça me fait chier !",
  "Je ne veux avoir de compte à rendre à personne.",
  "Dans un groupe, je reste à l'écart et me laisse guider.",
  "J'évite les gens qui parlent trop.",
  // Hérétique (50-54)
  "Je suis prêt à agir contre la foi, la charité, l'humanité si nécessaire.",
  "Les gens qui croient en des religions ou des politiciens (ou autre idéologie) sont des moutons.",
  "Les lois, les religions et les traditions : tout peut et doit être passé au peigne fin par mes soins plutôt que de les croire aveuglément.",
  "Les révolutions ne peuvent être accomplies qu'avec audace et violence et j'y réponds présent !",
  "Le blasphème est un droit et j'aime l'utiliser.",
  // Conquérant (55-59)
  "La vie n'est qu'un jeu et je déteste perdre, par conséquent la fin justifie les moyens.",
  "Il n'y a pas de méchants ou de gentils. Il n'y a que ceux qui gagnent (moi) et ceux qui perdent (les autres).",
  "Quand je gagnerai la guerre, je deviendrai la justice. Seuls les perdants parlent de morale.",
  "Je ne dois pas parler de l'état actuel du monde, mais de ce qu'il devrait être à juste titre.",
  "Je suis peut-être orgueilleux, mais je préfère ça à de la fausse modestie.",
  // Abomination (60-64)
  "J'ai vu trop de dingueries dans ma vie, ça m'a détruit.",
  "Je préfère être craint qu'aimé, si je ne peux être les deux à la fois.",
  "Ça ne me dérange pas d'être vu comme une bête, la peur est nécessaire à l'évolution.",
  "J'éprouve des difficultés à me faire des amis, à faire preuve de compassion et à assumer mes responsabilités.",
  "J'ai l'impression de tout intérioriser, de porter le poids de tout en moi jusqu'au point de craquer.",
  // Destructeur (65-69)
  "Je vais abolir et repenser constamment les vieilles lois.",
  "Si quelqu'un me fait du mal à moi ou à ma famille, je le retrouverai pour lui faire payer.",
  "Il faut casser des œufs pour faire une omelette, et je ferai l'omelette.",
  "Il faut encore avoir du chaos en soi pour pouvoir engendrer une étoile qui danse, et je suis rempli de chaos.",
  "Tout le monde peut être un ennemi, je fais preuve d'une grande prudence.",
  // Élu (70-74)
  "Je suis très à l'aise à l'oral. On dit que je suis éloquent.",
  "Je donne souvent mon avis sur comment résoudre divers problèmes.",
  "Depuis toujours, les gens m'écoutent et sont intéressés par ce que je dis.",
  "Quand quelqu'un exprime un point de vue contraire au mien, j'ai tendance à penser qu'il est extrême ou radical.",
  "J'essaye de trouver des réponses simples à des problèmes complexes, et ça marche.",
  // Profanateur (75-79)
  "Qu'est-ce que j'ai fait Ô Bon Dieu pour mériter ma vie actuelle ?",
  "Je ne supporte pas les gens qui se montrent excessivement heureux en public, pensez un peu à nous les losers !",
  "La société m'empêche de progresser.",
  "Si je n'aime pas la main que le destin m'a donnée, je me bats pour en obtenir une nouvelle.",
  "Les riches devraient donner leur fric aux pauvres (et à moi) !",
  // Protecteur (80-84)
  "Je protège les faibles dans ma vie de tous les jours d'une façon ou d'une autre.",
  "La liberté des autres est due à ma vigilance éternelle.",
  "Le monde est rempli de merveilles, je les chasse et les conserve.",
  "Je préserve l'ordre du monde au quotidien.",
  "Je suis prêt à mourir pour les choses que je veux protéger.",
  // Visionnaire (85-89)
  "Quand une nouvelle sort, je l'ai souvent déjà révélé par le passé.",
  "Je me fais moquer pour mes idées nouvelles.",
  "Je privilégie toujours le plaisir au long terme plutôt que le plaisir à court terme.",
  "Je prends des risques pour empêcher ce que je considère comme un avenir désastreux.",
  "L'avenir m'appartient. Ceux qui ne me croient pas sont des retardataires.",
  // Fanatique (90-94)
  "La vie des gens ne s'achève pas quand ils meurent. Elle s'achève quand ils perdent espoir.",
  "Mes valeurs me permettent d'affronter tous les dangers.",
  "Pour mes valeurs, je souffre, je travaille et ne connais aucune limite. C'est une obsession.",
  "La moralité est subjective. Je suis juste celui qui n'a pas peur d'agir selon ce en quoi il croit.",
  "Je suis prêt à mourir pour mes valeurs et emporter avec moi mes détracteurs.",
  // Disciple (95-99)
  "Je suis vraiment savant, car je sais ce que je sais… et surtout ce que je ne sais pas.",
  "Je lis intensément sur divers thèmes (livres de philosophie, sciences, histoire, arts…).",
  "Quotidiennement, je débats avec mes pairs pour confronter mes idées aux leurs.",
  "Je cherche des experts passionnés pour apprendre même si ça coûte une blinde.",
  "Tant de disciplines dans la vie, je n'arrive pas à choisir.",
  // Vertueux (100-104)
  "J'agis que selon ce que j'aimerais voir devenir une règle pour tous.",
  "L'univers a donné à l'homme une conscience, la mienne est pure.",
  "Le monde est pourri, et ceux qui le pourrissent méritent de mourir. Quelqu'un doit le faire, alors pourquoi pas moi ?",
  "On ne peut pas faire de mal sans s'en rendre compte, nul ne devrait ignorer la loi, aucune excuse.",
  "Il m'arrive souvent de parler dans le dos des autres à mes proches.",
  // Voyageur (105-109)
  "Rencontrer de nouvelles personnes me rend meilleur.",
  "Voir quelque chose que personne n'a jamais vu, être à un endroit où personne n'est jamais allé, ça c'est mon kif.",
  "Je me dois de propager les informations, le monde doit savoir !",
  "On ne peut pas juger une culture. Toutes les cultures se valent.",
  "Rester au même endroit est une torture, je veux voir ailleurs !",
];

// ==================== STATE ====================
let shuffledOrder = [];
let currentIndex = 0;
let scores = new Array(22).fill(0); // one per archetype
let locked = false; // prevents double-click

// ==================== LOGIC ====================
function shuffle(arr) {
  const a = [...arr];
  for (let i = a.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [a[i], a[j]] = [a[j], a[i]];
  }
  return a;
}

function startQuiz() {
  shuffledOrder = shuffle([...Array(110).keys()]);
  currentIndex = 0;
  scores = new Array(22).fill(0);
  locked = false;
  showScreen('quiz');
  renderQuestion();
}

function renderQuestion() {
  const qIndex = shuffledOrder[currentIndex];
  document.getElementById('question-text').textContent = allQuestions[qIndex];
  document.getElementById('q-current').textContent = currentIndex + 1;
  document.getElementById('progress-fill').style.width = ((currentIndex / 110) * 100) + '%';

  // Reset button states
  document.querySelectorAll('.answer-btn').forEach(b => b.classList.remove('selected'));

  // Re-animate card
  const card = document.getElementById('question-card');
  card.style.animation = 'none';
  card.offsetHeight; // reflow
  card.style.animation = 'slideUp 0.4s ease forwards';
}

function selectAnswer(val) {
  if (locked) return;
  locked = true;

  // Highlight
  document.querySelectorAll('.answer-btn').forEach(b => {
    b.classList.toggle('selected', parseInt(b.dataset.val) === val);
  });

  // Find archetype for this question
  const qIndex = shuffledOrder[currentIndex];
  const archIdx = archetypes.findIndex(a => a.questions.includes(qIndex));
  if (archIdx !== -1) scores[archIdx] += val;

  // Advance
  setTimeout(() => {
    currentIndex++;
    if (currentIndex >= 110) {
      showResults();
    } else {
      renderQuestion();
      locked = false;
    }
  }, 280);
}

function showResults() {
  // Find max score(s)
  const maxScore = Math.max(...scores);
  const topIndices = scores.map((s, i) => ({ s, i })).filter(x => x.s === maxScore).map(x => x.i);

  // Oracle text
  let oracleText, verdictText, nameText;
  if (topIndices.length === 1) {
    oracleText = "L'Omniprophète a reconnu votre Concept !";
    verdictText = "Vous êtes";
    nameText = archetypes[topIndices[0]].name;
  } else if (topIndices.length === 2) {
    oracleText = "L'Omniprophète est indécis !";
    verdictText = "Vous êtes autant";
    nameText = archetypes[topIndices[0]].name + " que " + archetypes[topIndices[1]].name;
  } else {
    oracleText = "L'Omniprophète est troublé par votre complexité !";
    verdictText = "Vous incarnez plusieurs Concepts à la fois :";
    nameText = topIndices.map(i => archetypes[i].name).join(", ");
  }

  document.getElementById('result-oracle-text').textContent = oracleText;
  document.getElementById('result-verdict').textContent = verdictText;
  document.getElementById('result-name').textContent = nameText;

  // Build scores grid sorted desc
  const sorted = scores.map((s, i) => ({ s, i })).sort((a, b) => b.s - a.s);

  const grid = document.getElementById('scores-grid');
  grid.innerHTML = '';

  sorted.forEach(({ s, i }, rank) => {
    const isTop = topIndices.includes(i);
    const row = document.createElement('div');
    row.className = 'score-row';
    row.style.animationDelay = (rank * 0.04) + 's';

    const pct = (s / 25 * 100).toFixed(0);

    row.innerHTML = `
      <div class="score-name ${isTop ? 'top' : ''}">${archetypes[i].name}</div>
      <div class="score-bar-wrap">
        <div class="score-bar-inner ${isTop ? 'top' : ''}" style="width:${pct}%"></div>
      </div>
      <div class="score-num ${isTop ? 'top' : ''}">${s}/25</div>
    `;
    grid.appendChild(row);
  });

  showScreen('results');
}

function restartQuiz() {
  showScreen('intro');
}

function showScreen(name) {
  document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
  document.getElementById('screen-' + name).classList.add('active');
  window.scrollTo(0, 0);
}
</script>
</body>
</html>

